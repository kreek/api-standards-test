
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kreek.github.io/lighthouse-api-standards/security/oauth/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-8.1.11">
    
    
      
        <title>OAuth 2.0 - Lighthouse API Standards</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50e68009.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#oauth-20" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Lighthouse API Standards" class="md-header__button md-logo" aria-label="Lighthouse API Standards" data-md-component="logo">
      
  <img src="../../assets/images/lighthouse-logo-for-MKDocs.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lighthouse API Standards
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              OAuth 2.0
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lighthouse API Standards" class="md-nav__button md-logo" aria-label="Lighthouse API Standards" data-md-component="logo">
      
  <img src="../../assets/images/lighthouse-logo-for-MKDocs.png" alt="logo">

    </a>
    Lighthouse API Standards
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../general-guidelines/">General Guidelines</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="General Guidelines" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          General Guidelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general-guidelines/api-first/" class="md-nav__link">
        API First
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general-guidelines/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general-guidelines/data-interchange/" class="md-nav__link">
        Data Interchange
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general-guidelines/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general-guidelines/performance-and-availability/" class="md-nav__link">
        Performance & Availability
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Security</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">OAuth 2.0</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="OAuth 2.0" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          OAuth 2.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="scopes/" class="md-nav__link">
        Scopes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="identity-providers/" class="md-nav__link">
        Identity Providers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="token-validation/" class="md-nav__link">
        Token Validation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api-key/" class="md-nav__link">
        API Key
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../monitoring/">Monitoring</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Monitoring" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Monitoring
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../lifecycle/">Lifecycle</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Lifecycle" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Lifecycle
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lifecycle/api-evolution/" class="md-nav__link">
        API Evolution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lifecycle/deprecation/" class="md-nav__link">
        Deprecation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lifecycle/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6">
          Paths & Operations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Paths & Operations" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Paths & Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../paths-and-operations/paths/" class="md-nav__link">
        Paths
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../paths-and-operations/headers/" class="md-nav__link">
        Headers
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Resource Operations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resource Operations" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Resource Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../paths-and-operations/create/" class="md-nav__link">
        Create
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../paths-and-operations/read/" class="md-nav__link">
        Read
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../paths-and-operations/update/" class="md-nav__link">
        Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../paths-and-operations/destroy/" class="md-nav__link">
        Destroy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../paths-and-operations/custom-operations/" class="md-nav__link">
        Custom Operations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../errors/">Errors</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Errors" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Errors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../naming-and-formatting/">Naming & Formatting</a>
          
            <label for="__nav_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Naming & Formatting" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Naming & Formatting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../naming-and-formatting/addresses/" class="md-nav__link">
        Addresses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../naming-and-formatting/currency/" class="md-nav__link">
        Currency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../naming-and-formatting/dates/" class="md-nav__link">
        Dates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../naming-and-formatting/standard-field-names/" class="md-nav__link">
        Standard Field Names
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../defaults/" class="md-nav__link">
        Defaults
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#oas-security-examples" class="md-nav__link">
    OAS Security Examples
  </a>
  
    <nav class="md-nav" aria-label="OAS Security Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authorization-code-flow" class="md-nav__link">
    Authorization Code Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-credentials-grant" class="md-nav__link">
    Client Credentials Grant
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="oauth-20">OAuth 2.0<a class="headerlink" href="#oauth-20" title="Permanent link">&para;</a></h1>
<p>OAuth 2.0 lets an API consumer get an access token on behalf of a user (through our authorization code flow or authorization code flow with proof key for code exchange) or system (through client credentials grant). The API will verify the access token and authorize the request.</p>
<p>If your API will use OAuth 2.0, you need to provide the following as part of onboarding:</p>
<ul>
<li>Supported scopes</li>
<li>Intended audience (for identity providers)</li>
<li>Token profile (defaults are provided below, but Lighthouse can change these if you need)<ul>
<li>Token lifespan (default is 1 hour for users, 5 minutes for systems)</li>
<li>Offline access using refresh tokens (default is enabled for users)</li>
<li>Refresh token lifespan (default is 7 days for users)</li>
</ul>
</li>
</ul>
<p>Lighthouse uses this information to establish a dedicated OAuth server authorization for your API or set of related APIs and consumer documentation on the developer portal, if applicable.</p>
<p>The OAuth URLs will typically mirror your service URLs and will follow this format:</p>
<table class="language-text highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div class="language-text highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>https://sandbox-api.va.gov/oauth2/{service-name}/{system}/v1/*
</code></pre></div>
</td></tr></table>
<p>Lighthouse will give you:</p>
<ul>
<li>OAuth 2.0/OpenID Connect (OIDC) issuer metadata (<a href="https://sandbox-api.va.gov/oauth2/health/v1/.well-known/openid-configuration">See an example of OIDC issuer metadata</a>), which:<ul>
<li>Defines a valid token issuer</li>
<li>Defines the token signing keys</li>
<li>Acts as a quick-start guide for consumers using OAuth 2.0/OIDC libraries (more information on building OAuth 2.0/OIDC applications is available on the Lighthouse Authorization page)</li>
</ul>
</li>
<li>A token-validation key</li>
</ul>
<p>Consumers will register for access to your API and obtain OAuth credentials via the <a href="https://developer.va.gov/onboarding">developer portal</a>.</p>
<h2 id="oas-security-examples">OAS Security Examples<a class="headerlink" href="#oas-security-examples" title="Permanent link">&para;</a></h2>
<h3 id="authorization-code-flow">Authorization Code Flow<a class="headerlink" href="#authorization-code-flow" title="Permanent link">&para;</a></h3>
<p>Below is an example of Authorization Code Flow for the fictitious ‘Rx’ API. The security scheme is called <code>oAuth2AuthCode</code> and the flow is <code>authorizationCode</code>. The <code>authorizationUrl</code> field contains the authorization endpoint that will be used to obtain the authorization code from the authorization server. The <code>tokenUrl</code> field contains the endpoint that is used by the client to obtain an access token. All supported scopes should be listed under <code>scopes</code>.</p>
<table class="language-yaml highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span></pre></div></td><td class="code"><div class="language-yaml highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="nt">components</span><span class="p">:</span> 
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>  <span class="nt">securitySchemes</span><span class="p">:</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>    <span class="nt">oAuth2AuthCode</span><span class="p">:</span> <span class="c1"># (1)</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">oauth2</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>      <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">This API uses OAuth 2 with the authorization code grant flow.</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>      <span class="nt">flows</span><span class="p">:</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>        <span class="nt">authorizationCode</span><span class="p">:</span> <span class="c1"># (2)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>          <span class="nt">authorizationUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://api.va.gov/oauth2/authorization</span>   
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>          <span class="nt">tokenUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://api.va.gov/oauth2/token</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>          <span class="nt">scopes</span><span class="p">:</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>            <span class="nt">prescription.read</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Retrieve prescription data</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="nn">...</span>
</code></pre></div>
</td></tr></table>
<ol>
<li><code>oAuth2AuthCode</code> is the name of the security scheme.</li>
<li>The type of flow set for this security scheme is Authorization Code Flow.</li>
</ol>
<p>The <code>oAuth2AuthCode</code> security scheme is then used in the security section of the <code>/prescriptions</code> endpoint. This endpoint requires the scope
 <code>prescription.read</code> so it is listed below the security scheme.</p>
<table class="language-yaml highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span></pre></div></td><td class="code"><div class="language-yaml highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>  <span class="nt">/prescriptions</span><span class="p">:</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="nt">get</span><span class="p">:</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>      <span class="nt">tags</span><span class="p">:</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prescription</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>      <span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Returns a list of a veteran&#39;s prescriptions</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>      <span class="nt">security</span><span class="p">:</span> <span class="c1"># (1)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>        <span class="p p-Indicator">-</span> <span class="nt">oAuth2AuthCode</span><span class="p">:</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prescription.read</span> <span class="c1"># (2)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="nn">...</span>                   
</code></pre></div>
</td></tr></table>
<ol>
<li>The <code>oAuth2AuthCode</code> security scheme is applied to this endpoint.</li>
<li>This endpoint requires the <code>prescription.read</code> scope.</li>
</ol>
<h3 id="client-credentials-grant">Client Credentials Grant<a class="headerlink" href="#client-credentials-grant" title="Permanent link">&para;</a></h3>
<p>This example shows Client Credentials Grant being used in the ‘Rx’ API. The security scheme is called <code>oAuth2ClientCredentials</code> and the flow is <code>clientCredentials</code>. The <code>tokenUrl</code> field contains the endpoint that is used by the client to obtain an access token. All supported scopes should be listed under <code>scopes</code>.</p>
<table class="language-yaml highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span></pre></div></td><td class="code"><div class="language-yaml highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="nt">components</span><span class="p">:</span> 
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>  <span class="nt">securitySchemes</span><span class="p">:</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>    <span class="nt">oAuth2ClientCredentials</span><span class="p">:</span> <span class="c1"># (1)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">oauth2</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>      <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">This API uses OAuth 2 with the client credentials grant flow.</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>      <span class="nt">flows</span><span class="p">:</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>        <span class="nt">clientCredentials</span><span class="p">:</span> <span class="c1"># (2)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>          <span class="nt">tokenUrl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://api.va.gov/oauth2/token</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>          <span class="nt">scopes</span><span class="p">:</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a>            <span class="nt">prescription.read</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Retrieve prescription data</span> 
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="nn">...</span>
</code></pre></div>
</td></tr></table>
<ol>
<li><code>oAuth2ClientCredentials</code> is the name of the security scheme.</li>
<li>The type of flow set for this security scheme is Client Credentials Grant.</li>
</ol>
<p>The <code>oAuth2ClientCredentials</code> security scheme is used in the security section of the <code>/prescriptions</code> endpoint. This endpoint requires the scope <code>prescription.read</code> so it is listed below the security scheme.</p>
<table class="language-yaml highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span></pre></div></td><td class="code"><div class="language-yaml highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>  <span class="nt">/prescriptions</span><span class="p">:</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>    <span class="nt">get</span><span class="p">:</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>      <span class="nt">tags</span><span class="p">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prescription</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>      <span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Returns a list of a veteran&#39;s prescriptions</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a>      <span class="nt">security</span><span class="p">:</span> <span class="c1"># (1)</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a>        <span class="p p-Indicator">-</span> <span class="nt">oAuth2ClientCredentials</span><span class="p">:</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a>          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">prescription.read</span> <span class="c1"># (2)</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="nn">...</span>   
</code></pre></div>
</td></tr></table>
<ol>
<li>The <code>oAuth2ClientCredentials</code> security scheme is applied to this endpoint.</li>
<li>This endpoint requires the <code>prescription.read</code> scope.</li>
</ol>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Previous: Security" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Security
            </div>
          </div>
        </a>
      
      
        
        <a href="scopes/" class="md-footer__link md-footer__link--next" aria-label="Next: Scopes" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Scopes
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.indexes", "navigation.footer", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.092fa1f6.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a9542cf.min.js"></script>
      
    
  </body>
</html>